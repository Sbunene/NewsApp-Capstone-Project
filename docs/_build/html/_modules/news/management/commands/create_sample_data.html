<!DOCTYPE html>

<html lang="en" data-content_root="../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>news.management.commands.create_sample_data &#8212; NewsApp 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/alabaster.css?v=27fed22d" />
    <script src="../../../../_static/documentation_options.js?v=f2a433a1"></script>
    <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for news.management.commands.create_sample_data</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Django management command to create sample data for testing.</span>

<span class="sd">This command populates the database with sample publishers, users (journalists</span>
<span class="sd">and editors), and articles (both approved and pending) for development and</span>
<span class="sd">testing purposes. Useful for demonstrating application functionality without</span>
<span class="sd">manual data entry.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">django.core.management.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseCommand</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">news.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">CustomUser</span><span class="p">,</span> <span class="n">Article</span><span class="p">,</span> <span class="n">Publisher</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">timezone</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">timedelta</span>


<div class="viewcode-block" id="Command">
<a class="viewcode-back" href="../../../../news.management.commands.html#news.management.commands.create_sample_data.Command">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Command</span><span class="p">(</span><span class="n">BaseCommand</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Management command to create sample data for development and testing.</span>
<span class="sd">    </span>
<span class="sd">    Creates sample publishers, test users, and articles to populate the database</span>
<span class="sd">    with realistic data. This allows developers to test the application without</span>
<span class="sd">    manually creating test data through the UI.</span>
<span class="sd">    </span>
<span class="sd">    Creates:</span>
<span class="sd">        - 3 publishers (Tech News Network, Sports Daily, Politics Today)</span>
<span class="sd">        - 2 journalists (tech_journalist, sports_journalist)</span>
<span class="sd">        - 1 editor (sample_editor)</span>
<span class="sd">        - 5 approved articles</span>
<span class="sd">        - 2 pending articles</span>
<span class="sd">        </span>
<span class="sd">    Usage:</span>
<span class="sd">        python manage.py create_sample_data</span>
<span class="sd">        </span>
<span class="sd">    Login Credentials Created:</span>
<span class="sd">        - tech_journalist / test123</span>
<span class="sd">        - sports_journalist / test123</span>
<span class="sd">        - sample_editor / test123</span>
<span class="sd">        - admin / admin123 (if created separately)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;Creates sample data (publishers, users, articles) for testing&#39;</span>

<div class="viewcode-block" id="Command.handle">
<a class="viewcode-back" href="../../../../news.management.commands.html#news.management.commands.create_sample_data.Command.handle">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute the command to create sample data.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            *args: Unused positional arguments</span>
<span class="sd">            **options: Unused keyword arguments from command line</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">            None. Outputs success messages to stdout.</span>
<span class="sd">            </span>
<span class="sd">        Side Effects:</span>
<span class="sd">            Creates publishers, users, and articles in the database.</span>
<span class="sd">            Skips creation if entities with same identifiers already exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Create sample publishers</span>
        <span class="n">tech_publisher</span><span class="p">,</span> <span class="n">created</span> <span class="o">=</span> <span class="n">Publisher</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Tech News Network&#39;</span><span class="p">)</span>
        <span class="n">sports_publisher</span><span class="p">,</span> <span class="n">created</span> <span class="o">=</span> <span class="n">Publisher</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sports Daily&#39;</span><span class="p">)</span>
        <span class="n">politics_publisher</span><span class="p">,</span> <span class="n">created</span> <span class="o">=</span> <span class="n">Publisher</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Politics Today&#39;</span><span class="p">)</span>
        
        <span class="c1"># Check if sample journalist exists, if not create it</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">journalist1</span> <span class="o">=</span> <span class="n">CustomUser</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;tech_journalist&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">CustomUser</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
            <span class="n">journalist1</span> <span class="o">=</span> <span class="n">CustomUser</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span>
                <span class="n">username</span><span class="o">=</span><span class="s1">&#39;tech_journalist&#39;</span><span class="p">,</span>
                <span class="n">password</span><span class="o">=</span><span class="s1">&#39;test123&#39;</span><span class="p">,</span>
                <span class="n">email</span><span class="o">=</span><span class="s1">&#39;tech@newsapp.com&#39;</span><span class="p">,</span>
                <span class="n">role</span><span class="o">=</span><span class="s1">&#39;JOURNALIST&#39;</span>
            <span class="p">)</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">journalist2</span> <span class="o">=</span> <span class="n">CustomUser</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;sports_journalist&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">CustomUser</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
            <span class="n">journalist2</span> <span class="o">=</span> <span class="n">CustomUser</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span>
                <span class="n">username</span><span class="o">=</span><span class="s1">&#39;sports_journalist&#39;</span><span class="p">,</span>
                <span class="n">password</span><span class="o">=</span><span class="s1">&#39;test123&#39;</span><span class="p">,</span>
                <span class="n">email</span><span class="o">=</span><span class="s1">&#39;sports@newsapp.com&#39;</span><span class="p">,</span>
                <span class="n">role</span><span class="o">=</span><span class="s1">&#39;JOURNALIST&#39;</span>
            <span class="p">)</span>
        
        <span class="c1"># Check if sample editor exists, if not create it  </span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">editor</span> <span class="o">=</span> <span class="n">CustomUser</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;sample_editor&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">CustomUser</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
            <span class="n">editor</span> <span class="o">=</span> <span class="n">CustomUser</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span>
                <span class="n">username</span><span class="o">=</span><span class="s1">&#39;sample_editor&#39;</span><span class="p">,</span>
                <span class="n">password</span><span class="o">=</span><span class="s1">&#39;test123&#39;</span><span class="p">,</span>
                <span class="n">email</span><span class="o">=</span><span class="s1">&#39;editor@newsapp.com&#39;</span><span class="p">,</span>
                <span class="n">role</span><span class="o">=</span><span class="s1">&#39;EDITOR&#39;</span>
            <span class="p">)</span>
        
        <span class="c1"># Create sample approved articles</span>
        <span class="n">sample_articles</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Breaking: New AI Technology Revolutionizes Healthcare&#39;</span><span class="p">,</span>
                <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;Artificial intelligence is transforming the healthcare industry with new diagnostic tools that can detect diseases earlier and more accurately than ever before. Hospitals worldwide are adopting these technologies to improve patient outcomes.&#39;</span><span class="p">,</span>
                <span class="s1">&#39;journalist&#39;</span><span class="p">:</span> <span class="n">journalist1</span><span class="p">,</span>
                <span class="s1">&#39;publisher&#39;</span><span class="p">:</span> <span class="n">tech_publisher</span><span class="p">,</span>
                <span class="s1">&#39;is_approved&#39;</span><span class="p">:</span> <span class="kc">True</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Local Team Wins Championship After Dramatic Final&#39;</span><span class="p">,</span>
                <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;In an unforgettable match that went into overtime, our local team secured the championship title with a last-minute goal. Fans celebrated throughout the night as the team brought home the trophy.&#39;</span><span class="p">,</span>
                <span class="s1">&#39;journalist&#39;</span><span class="p">:</span> <span class="n">journalist2</span><span class="p">,</span>
                <span class="s1">&#39;publisher&#39;</span><span class="p">:</span> <span class="n">sports_publisher</span><span class="p">,</span>
                <span class="s1">&#39;is_approved&#39;</span><span class="p">:</span> <span class="kc">True</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;New Environmental Policy Announced by Government&#39;</span><span class="p">,</span>
                <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;The government has unveiled a comprehensive new environmental policy aimed at reducing carbon emissions by 50</span><span class="si">% o</span><span class="s1">ver the next decade. The plan includes investments in renewable energy and stricter regulations for industrial polluters.&#39;</span><span class="p">,</span>
                <span class="s1">&#39;journalist&#39;</span><span class="p">:</span> <span class="n">journalist1</span><span class="p">,</span>
                <span class="s1">&#39;publisher&#39;</span><span class="p">:</span> <span class="n">politics_publisher</span><span class="p">,</span>
                <span class="s1">&#39;is_approved&#39;</span><span class="p">:</span> <span class="kc">True</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Tech Giant Announces Revolutionary Smartphone&#39;</span><span class="p">,</span>
                <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;The latest smartphone from the tech giant features groundbreaking battery technology that promises week-long battery life. Early reviews praise the innovative design and advanced camera system.&#39;</span><span class="p">,</span>
                <span class="s1">&#39;journalist&#39;</span><span class="p">:</span> <span class="n">journalist1</span><span class="p">,</span>
                <span class="s1">&#39;publisher&#39;</span><span class="p">:</span> <span class="n">tech_publisher</span><span class="p">,</span>
                <span class="s1">&#39;is_approved&#39;</span><span class="p">:</span> <span class="kc">True</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Olympic Athlete Sets New World Record&#39;</span><span class="p">,</span>
                <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;In a stunning performance at the international games, the star athlete broke a world record that had stood for over a decade. The achievement marks a significant milestone in sports history.&#39;</span><span class="p">,</span>
                <span class="s1">&#39;journalist&#39;</span><span class="p">:</span> <span class="n">journalist2</span><span class="p">,</span>
                <span class="s1">&#39;publisher&#39;</span><span class="p">:</span> <span class="n">sports_publisher</span><span class="p">,</span>
                <span class="s1">&#39;is_approved&#39;</span><span class="p">:</span> <span class="kc">True</span>
            <span class="p">}</span>
        <span class="p">]</span>
        
        <span class="c1"># Create pending articles</span>
        <span class="n">pending_articles</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Exclusive: Inside the Secret Space Mission&#39;</span><span class="p">,</span>
                <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;Our investigative team has uncovered details about a classified space mission that could change our understanding of the universe. Sources reveal unprecedented scientific discoveries.&#39;</span><span class="p">,</span>
                <span class="s1">&#39;journalist&#39;</span><span class="p">:</span> <span class="n">journalist1</span><span class="p">,</span>
                <span class="s1">&#39;publisher&#39;</span><span class="p">:</span> <span class="n">tech_publisher</span><span class="p">,</span>
                <span class="s1">&#39;is_approved&#39;</span><span class="p">:</span> <span class="kc">False</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Controversial Trade Decision Shakes Sports World&#39;</span><span class="p">,</span>
                <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;A surprising trade decision has divided experts and fans alike. The move could reshape the competitive landscape for seasons to come.&#39;</span><span class="p">,</span>
                <span class="s1">&#39;journalist&#39;</span><span class="p">:</span> <span class="n">journalist2</span><span class="p">,</span>
                <span class="s1">&#39;publisher&#39;</span><span class="p">:</span> <span class="n">sports_publisher</span><span class="p">,</span>
                <span class="s1">&#39;is_approved&#39;</span><span class="p">:</span> <span class="kc">False</span>
            <span class="p">}</span>
        <span class="p">]</span>
        
        <span class="c1"># Create approved articles</span>
        <span class="k">for</span> <span class="n">article_data</span> <span class="ow">in</span> <span class="n">sample_articles</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">Article</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">article_data</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
                <span class="n">Article</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="o">**</span><span class="n">article_data</span><span class="p">)</span>
        
        <span class="c1"># Create pending articles</span>
        <span class="k">for</span> <span class="n">article_data</span> <span class="ow">in</span> <span class="n">pending_articles</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">Article</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">article_data</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
                <span class="n">Article</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="o">**</span><span class="n">article_data</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">SUCCESS</span><span class="p">(</span><span class="s1">&#39;Sample data created successfully!&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Created journalists: tech_journalist, sports_journalist&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Created editor: sample_editor&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Created 5 approved articles and 2 pending articles&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Login credentials:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  - Reader: admin / admin123&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  - Journalist 1: tech_journalist / test123&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  - Journalist 2: sports_journalist / test123&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  - Editor: sample_editor / test123&#39;</span><span class="p">)</span></div>
</div>

</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../index.html">NewsApp</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Sbunene.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
    </div>

    

    
  </body>
</html>